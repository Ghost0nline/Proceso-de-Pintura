<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Firebase APP</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootswatch@4.5.2/dist/sandstone/bootstrap.min.css">
  <style>
    label{display: inline-block; width:80px}
    input, select{width: 70px;}
    
    body {
      background: url(img/Fondo.jpg)  ; 
      background-size: cover;
      background-repeat: no-repeat;
      margin: 0;
      height: 100vh;
    }
  </style>
</head>
<body>
  <br>
	<center> <img src="img/Firebase.png" width="300px"> </center> <hr> <br>
  <!--<label>Inicio</label> <input id="inicio" type="text"> <br> <br> -->
  <center>
  <font style="font-size:20px; color:black">Inicio&nbsp;&nbsp;&nbsp;&nbsp;</font>
  <select id="inicio">
      <option value=0>OFF</option>
      <option value=1>ON</option>
  </select> <br> <br>
  <font style="font-size:20px; color:black">Lote&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
  <select id="lote">
      <option value=0>0</option>
      <option value=1>1</option>
      <option value=2>2</option>
      <option value=3>3</option>
      <option value=4>4</option>
      <option value=5>5</option>
      <option value=6>6</option>
      <option value=7>7</option>
      <option value=8>8</option>
      <option value=9>9</option>
      <option value=10>10</option>
      <option value=11>11</option>
      <option value=12>12</option>
  </select> <br> <br>
  <font style="font-size:20px; color:black">Paro&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font>
  <select id="paro">
      <option value=0>OFF</option>
      <option value=1>ON</option>
  </select> <br> <br>
  <font style="font-size:20px; color:black">Piezas&nbsp;&nbsp;</font>
  <select id="piezas">
      <option value=0>OFF</option>
      <option value=1>ON</option>
  </select> <br> <br> <br>

  <button id="Insbtn">INSERTAR</button>
  <br> <br> <hr> <br>

  <table>
    <tr>
      <td><font style="font-size:20px; color:black">Sensor 1&nbsp;&nbsp;</font></td>
      <td><font style="background:limegreen; color:black; font-weight:bold; padding:3px; border:2px solid green; margin-top:40px; margin-bottom:40px; text-align:center;font-size:20px">Encendido</font></td>
    </tr>
    <tr> <td> <font>.</font> </td> </tr>
    <tr>
      <td><font style="font-size:20px; color:black">Sensor 2&nbsp;&nbsp;</font></td>
      <td><font style="background:red; color:black; font-weight:bold; padding:3px; border:2px solid darkred; margin-top:40px; margin-bottom:40px; text-align:center;font-size:20px">Apagado</font></td>
    </tr>
    <tr> <td> <font>.</font> </td> </tr>
    <tr>
    <td><font style="font-size:20px; color:black">Sensor 3&nbsp;&nbsp;</font></td>
      <td><font style="background:red; color:black; font-weight:bold; padding:3px; border:2px solid darkred; margin-top:40px; margin-bottom:40px; text-align:center;font-size:20px">Apagado</font></td>
    </tr>
  </table>
</center>

<!------------------ Configuracion y librerias ----------------------->
  <script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCR7eTGK6fdZm3okkyLar0DuTqjcEjW50o",
    authDomain: "proyecto-base-de-datos-282ee.firebaseapp.com",
    databaseURL: "https://proyecto-base-de-datos-282ee-default-rtdb.firebaseio.com",
    projectId: "proyecto-base-de-datos-282ee",
    storageBucket: "proyecto-base-de-datos-282ee.appspot.com",
    messagingSenderId: "448396410630",
    appId: "1:448396410630:web:98c68a43330d3b8f24e887",
    measurementId: "${config.measurementId}"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);

  import {getDatabase, ref, get, set, child, update, remove}
  from "https://www.gstatic.com/firebasejs/9.6.0/firebase-database.js";
  const db = getDatabase();
  
  var inicio = document.getElementById("inicio");
  var lote = document.getElementById("lote");
  var paro = document.getElementById("paro");
  var piezas = document.getElementById("piezas");
               
  var insBtn = document.getElementById("Insbtn");

  // Insert data function
  function InsertData(){
    set(ref(db, "/"),{
        inicio: parseInt(inicio.value),
        lote: parseInt(lote.value),
        paro: parseInt(paro.value),
        piezas: parseInt(piezas.value),
    })

    .then(()=>{
        alert("data stored successfully");
    
    })
    .catch((error)=>{
        alert("unsuccessful, error"+error);
    });
  }
  
  // Get data function
  /*
  function SelectData(){
    const dbref = ref(db);

    get (child(dbref, "/"+ rollbox.value)).then((snapshot)=>{
      if(snapshot.exists()){
        incio.value = snapshot.val() .NameOfstd;
        lote.value = snapshot.val().Section;
        paro.value = snapshot.val().Gender;
        piezas.value = snapshot.val().Gender; 
      else(
        alert("No data found");
    })
    .catch ((error)=>{
        alert("unsuccessful, error"+error);
    });
  }
  */
  // Assign events to buttons
  insBtn.addEventListener('click', InsertData);

</script>

</body>
</html>
